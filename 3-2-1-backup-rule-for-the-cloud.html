<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Person">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title>3-2-1 Backup rule for the cloud</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Bill Hertzing">

  <link rel="shortcut icon" href="">

  <!-- schema.org -->
  <meta itemprop="name" content="Bill's Conversational Musings">
  <meta itemprop="image" content="">
  <meta itemprop="description" content="">

  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
  <!-- Style Meta Data -->
  <link rel="stylesheet" href="./theme/css/style.css" type="text/css" />
  <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css" />

  <!-- Feed Meta Data -->
    <link href="./" type="application/atom+xml" rel="alternate" title="Bill's Conversational Musings RSS Feed" />

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="">
  <meta name="twitter:image" content="">

<meta name="twitter:creator" content="">
<meta name="twitter:url" content="./3-2-1-backup-rule-for-the-cloud.html">
<meta name="twitter:title" content="Bill's Conversational Musings ~ 3-2-1 Backup rule for the cloud">
<meta name="twitter:description" content="Hey, another article about backing up in the cloud. Dull, right? We have come a long way from this reel of tape. Stay with me as I try to draw some new connections to old principles. Backups are one of those things that you know you need. However, you sometimes ...">

<!-- Facebook Meta Data -->
<meta property="og:title" content="Bill's Conversational Musings ~ 3-2-1 Backup rule for the cloud" />
<meta property="og:description" content="Hey, another article about backing up in the cloud. Dull, right? We have come a long way from this reel of tape. Stay with me as I try to draw some new connections to old principles. Backups are one of those things that you know you need. However, you sometimes ..." />
<meta property="og:image" content="" />
</head>

<body>
  <!-- Sidebar -->
  <aside>
    <!--<center><a href="."><img id="avatar" src=""></a></center>-->
    <h1>Bill's Conversational Musings</h1>
    <br>


    <nav class="nav">
      <ul class="list-bare">
      
         
        
      </ul>
    </nav>

    <p class="social">
        <a href="https://twitter.com/BillHertzing" target="_blank" ><img src="./theme/images/icons/twitter.png"></a>
        <a href="http://www.linkedin.com/in/bhertzing" target="_blank" ><img src="./theme/images/icons/linkedin.png"></a>
      <a href="./feeds/rss.xml" rel="alternate">
        <img src="./theme/images/icons/rss.png"></a>
    </p>

    <h2>Categories</h2>
    <ul class="navbar">
      <li><a href="./category/living.html">Living</a></li>
      <li><a href="./category/music.html">Music</a></li>
      <li class="active"><a href="./category/technology.html">Technology</a></li>
      <li><a href="./category/tips-advice.html">Tips & Advice</a></li>
    </ul> 

      <h2 class="blog_roll_link"><br/>BLOGROLLS</h2>
      <ul class="navbar">
        <li><a href="http://billhertzing.com/">BillHertzing.com</a></li>
        <li><a href="https://www.google.com/#q=inurl:blog.billhertzing.com+">Search this site (Google)</a></li>
        <li><a href="https://developer.rackspace.com/blog/">Developer Blog</a></li>
        <li><a href="http://techblog.netflix.com/">Netflix Tech Blog</a></li>
      </ul> 

  </aside>

  <!-- Content -->
  <article>
<section id="content">
    <article>
        <h2 class="post_title post_detail"><a href="./3-2-1-backup-rule-for-the-cloud.html" rel="bookmark" title="Permalink to 3-2-1 Backup rule for the cloud">3-2-1 Backup rule for the cloud</a></h2>
        <div class="entry-content blog-post">
            <p><img alt="Title card 3-2-1 backup for the cloud" src="http://blogimages.billhertzing.com/3-2-1-rule.jpg" /></p>
<p>Hey, another article about backing up in the cloud. Dull, right? We have come a long way from this reel of tape.  Stay with me as I try to draw some new connections to old principles.  </p>
<p>Backups are one of those things that you know you need.  However, you sometimes find out either you were backing up the wrong thing or worse yet the backup failed or is corrupted and you did not know about it until it was too late. This is why when I am on the phone with customers and the topic comes up, I explain the classic 3-2-1 backup rule.</p>
<ul>
<li>Three backups</li>
<li>Two in different formats</li>
<li>One offsite</li>
</ul>
<p>When we ran servers in or local offices, 'offsite' meant keeping a tape copy in a vault somewhere usually.  This was sometimes at a bank or in a storage facility. Since we are moving more data to the cloud, the 'offsite' should probably mean your local office but doesn't have to.  I'll explain more as we go along.</p>
<h2>Three Backups</h2>
<p>This means three copies of your backup should exist somewhere.  Jack Schofield coined the three laws of computing.  <a href="https://www.theguardian.com/technology/2008/feb/14/email.yahoo">His second law</a> states "Data doesn’t really exist unless you have at least two copies of it."  So, you need at least two backups in some way shape or form.  One tool we rely on is our Cloud Backup product.  I will spare all the technical details about it.  You can <a href="https://community.rackspace.com/products/f/25/t/7263">read about that</a> in many different places.  I will say it does a file-by-file backup on a schedule of your choosing.   That's one backup.  Where is the other?</p>
<p>Another built-in tool some may think is server snapshots.  This tool works for SOME servers in the Rackspace cloud.  But, it should not be considered a backup solution. If you are running a Compute Instance, for example, your server will be booting from a Cloud Block Storage (CBS) volume.  Server snapshots will not capture a CBS volume since they are done on the host machine.  For the servers that it will work on, Performance instances, for example, you could still run the risk of possible corruption.  If a database table is in the middle of being written to you may have a corrupt DB if your snapshot happens at that point in time.  So what do you do?</p>
<h2>Two in different formats</h2>
<p>I recommend making backups into smaller chunks that can be easily backed up by Cloud Backup and synced somewhere else.  For me personally, my database backup is first saved locally.  I'll compress my site files into a .zip or .tar and save those into a folder as well.  The next part is to get it off that machine. Then I will have another job that runs at a certain time and sends those files somewhere else.   You could, for example, have it be copied to another server every day, every 4 hours.  So with Cloud Backup grabbing not only your site files as a whole, you are also getting a copy in a compressed archived format saved somewhere else in two different formats.</p>
<h2>One offsite</h2>
<p>Like I said at the beginning of the article when servers were all in-house the common option for taking a backup offsite would be to have it stored at some safe location that was available 24/7.   It was important that the location was not somebody’s home because what do you do then if they go on vacation or worse yet leave the company.   Even a bank safe deposit box was not the best idea.  What happens if you need that backup and the bank is closed!</p>
<p>Therefore, inverting the process where the 'offsite' copy should be a local copy in your office.   It should be something available to your team that if they needed to access it, they could get the latest backup and build a new server.  I have seen in some cases it is the shortest path to recovery if the other backups are unavailable or unreliable.  Task an internal server, if available, to reach out and pull the file(s) down.  Another suggestion is to have a server in a separate data center from where your primary sources are located grab the files.</p>
<h2>Conclusion</h2>
<p>A total of three backups, two in different formats and one locally is a tried and true rule-of-thumb for keeping your data safe.  Remember to test the backups.   That is one of the advantages of the cloud is the ability to spin up infrastructure, test &amp; verify and then delete.     </p>
<h2>Hey!  What about...?</h2>
<p><strong>Replication:</strong> I gave this some consideration.  It is useful in a multi-tier cloud in that should a server fail, a replica server is in place to keep your site up and running.  However, if a corrupted file is uploaded, the sync mechanism is going replicate that corrupted data.  That's not helpful if you need to restore to a previous version.  It could be used on scheduled task or cron basis.  Still, I would want to be able to look at my backups within the past X days to see when things went wrong. </p>
<p><strong>Cloud Block Storage Snapshots:</strong> At the time of this writing there isn't a way to schedule the snapshot and then delete the ones that are older than X days. Somebody probably has a script.  And, because it is a snapshot, it falls victim to the same corruption issues server snapshots have as mentioned above.</p>
<h2>Conclusion (for real)</h2>
<p>Perhaps tomorrow we will read something that makes replication and snapshots THE tool to use for backups.  Technology is always adapting and changing to new environments.  That reminds me of one more thing. Your backup solution will need to adapt and change with those new environments as well.</p>
<h2>Have a comment?</h2>
<p>So, what do you think? Did I miss anything?  Is any part unclear?</p>
<p><a href="https://twitter.com/BillHertzing">Send me a message on Twitter</a></p>
        </div>
        <div class="post_list">
            <span>By </span>
            <a href="./author/bill-hertzing.html">@Bill Hertzing</a>
            <span> in </span>
            <span class="post_category"><a href="./category/technology.html" rel="bookmark" title="Permalink to Technology">[ Technology ]</a></span>
            <span class="post_date">Wed 08 June 2016</span>
            <div><span>Tags : </span>
                <span><a href="./tag/cloud.html">#cloud, </a></span>
                <span><a href="./tag/backup.html">#backup, </a></span>
            </div>

            <div class="entry-social">
                <span class="twitter"><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=./3-2-1-backup-rule-for-the-cloud.html&text=3-2-1 Backup rule for the cloud&via="><img src="./theme/images/icons/twitter-s.png"></a></span>

                <span class="gplus"><a target="_blank" title="Google +" href="https://plus.google.com/share?url=./3-2-1-backup-rule-for-the-cloud.html&hl=fr" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img src="./theme/images/icons/google-s.png"></a></span>

                <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=./3-2-1-backup-rule-for-the-cloud.html&t=3-2-1 Backup rule for the cloud"><img src="./theme/images/icons/facebook-s.png"></a></span>

                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=./3-2-1-backup-rule-for-the-cloud.html&title=3-2-1 Backup rule for the cloud" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img src="./theme/images/icons/linkedin-s.png"></a>

                <span class="mail"><a href="mailto:?subject=3-2-1 Backup rule for the cloud&amp;body=Viens découvrir un article à propos de [3-2-1 Backup rule for the cloud] sur le site de Bill Hertzing. ./3-2-1-backup-rule-for-the-cloud.html" title="Share by Email" target="_blank"><img src="./theme/images/icons/mail-s.png"></a></span>
            </div>
        </div>
    </article>
</section>
  </article>

  <!-- Footer -->
  <footer>
    <p>
      Blog powered by <a href="http://getpelican.com/">Pelican</a>, 
      which takes great advantage of <a href="http://python.org">Python</a>.
      Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a href="https://parbhatpuri.com/">@parbhat</a>.
    </p>
  </footer>

  <!-- Analytics -->
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-60144947-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>

</body>
</html>